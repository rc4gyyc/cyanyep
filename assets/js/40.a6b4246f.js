(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{408:function(t,v,_){"use strict";_.r(v);var e=_(0),i=Object(e.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("p",[t._v("重要指令：工作流程图上的7个指令(clone+fetch+pul+checkout+add+commit+push)和2个常用指令(log+merge)\n常用指令速查：")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("基本操作类：\n"),v("code",[t._v("git init")]),t._v("\n初始化仓库\n"),v("code",[t._v("git-log")]),t._v("\n查看日志，这个命令很重要！！！！！！！！！！！！！！！！！！！")]),t._v(" "),v("p",[v("code",[t._v("git status")]),t._v(" ！！")]),t._v(" "),v("p",[t._v("​\t查看本地仓库状态，可以查看是否add、commit")]),t._v(" "),v("p",[v("code",[t._v("git add <文件名 | .>")]),t._v(" ！！\n添加到暂存区\n"),v("code",[t._v("git commit -m '注释'")]),t._v(" ！！\n提交到仓库")]),t._v(" "),v("p",[v("code",[t._v("git reset --hard <commitID>")])]),t._v(" "),v("p",[t._v("​\t版本回退")])]),t._v(" "),v("li",[v("p",[t._v("分支类：\n"),v("code",[t._v("git branch [-vv]")]),t._v(" ！！")]),t._v(" "),v("p",[t._v("​\t查看分支")]),t._v(" "),v("p",[v("code",[t._v("git checkout <分支名>")]),t._v("  ！！\n切换到某个分支\n"),v("code",[t._v("git checkout -b <分支名>")]),t._v("\n创建并切换到某个分支（分支原来不存在）")]),t._v(" "),v("p",[v("code",[t._v("git merge <分支名>")]),t._v("\n合并指定分支到当前活跃分支")])]),t._v(" "),v("li",[v("p",[t._v("远程操作\n"),v("code",[t._v("remote add")])]),t._v(" "),v("p",[v("code",[t._v("git fetch")])]),t._v(" "),v("p",[v("code",[t._v("git clone <远程地址> [本地文件夹]")]),t._v(" ！！\nclone远程仓库到本地\n"),v("code",[t._v("git pull")]),t._v(" ！！\n拉取远端仓库的修改并合并\n"),v("code",[t._v("git push [--set-upstream] origin 本地分支名[:远程分支名]")]),t._v(" ！！\n推送本地修改到远端分支\n--set-upstream表示和远端分支绑定关联关系，只有第一次推送时才需要此参数")])])]),t._v(" "),v("h2",{attrs:{id:"常见问题"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[t._v("#")]),t._v(" 常见问题")]),t._v(" "),v("h2",{attrs:{id:"带着修改切换分支"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#带着修改切换分支"}},[t._v("#")]),t._v(" 带着修改切换分支")]),t._v(" "),v("h3",{attrs:{id:"sit1-切换没有冲突"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#sit1-切换没有冲突"}},[t._v("#")]),t._v(" SIT1：切换没有冲突")]),t._v(" "),v("p",[t._v("如果当前分支与切换的分支没有冲突")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("强制切换分支并保留修改")]),t._v(" "),v("ul",[v("li",[t._v("使用 checkout或者switch（Git 2.23+）：")])])]),t._v(" "),v("li",[v("p",[v("code",[t._v("git checkout/switch -m <目标分支>")])]),t._v(" "),v("ul",[v("li",[v("code",[t._v("-m")]),t._v(" 参数表示在切换分支时保留当前的修改。")])])])]),t._v(" "),v("h3",{attrs:{id:"sit2-切换存在冲突"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#sit2-切换存在冲突"}},[t._v("#")]),t._v(" SIT2：切换存在冲突")]),t._v(" "),v("ol",[v("li",[v("p",[t._v("使用 "),v("code",[t._v("git stash")]),t._v(" 暂存修改")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("暂存当前修改"),v("code",[t._v("git stash")])])]),t._v(" "),v("li",[v("p",[t._v("切换到目标分支"),v("code",[t._v("git checkout <目标分支>")])])]),t._v(" "),v("li",[v("p",[t._v("恢复暂存的修改："),v("code",[t._v("git stash pop")])])])])])]),t._v(" "),v("blockquote",[v("p",[t._v("注意：")]),t._v(" "),v("ul",[v("li",[t._v("如果你有未跟踪的文件（即新创建但尚未 "),v("code",[t._v("git add")]),t._v(" 的文件），默认情况下 "),v("code",[t._v("git stash")]),t._v(" 不会包含它们。你可以使用 "),v("code",[t._v("git stash -u")]),t._v(" 或 "),v("code",[t._v("git stash --include-untracked")]),t._v(" 来包含未跟踪文件。")]),t._v(" "),v("li",[t._v("如果暂存后的修改与目标分支的内容冲突，Git 会提示冲突，你需要手动解决。")])])]),t._v(" "),v("ol",{attrs:{start:"2"}},[v("li",[v("p",[t._v("直接提交修改后将修改再次作用到你的分支上")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("将你的修改提交并切换分支后")])]),t._v(" "),v("li",[v("p",[t._v("通过git log查看提交的哈希值")])]),t._v(" "),v("li",[v("p",[t._v("将指定的提交应用到你的分支上")])])]),t._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v("git cherry-pick <commit-hash>\n")])])])]),t._v(" "),v("li",[v("p",[t._v("丢弃修改后切换分支")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("丢弃已跟踪文件的修改"),v("code",[t._v("git reset --hard")])])]),t._v(" "),v("li",[v("p",[t._v("丢弃未跟踪的文件"),v("code",[t._v("git clean -fd")])])]),t._v(" "),v("li",[v("p",[t._v("切换分支"),v("code",[t._v("git checkout <目标分支>")])])])])])]),t._v(" "),v("h2",{attrs:{id:"git错误提交"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#git错误提交"}},[t._v("#")]),t._v(" Git错误提交")]),t._v(" "),v("h3",{attrs:{id:"错误提交到本地仓库"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#错误提交到本地仓库"}},[t._v("#")]),t._v(" 错误提交到本地仓库")]),t._v(" "),v("p",[t._v("比如将我们的代码提交到master分支，而不是工作分支feature")]),t._v(" "),v("p",[t._v("可以使用"),v("code",[t._v("Git cherry-pick")]),t._v("命令")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("通过git log查看本次提交的ID，然后先切换到正确的feature分支，通过cherry-pick 将修改内容复制到正确的分支上，")])]),t._v(" "),v("li",[v("p",[t._v("切换回master分支，用git reset --hard HEAD~1回退最近一次提交。")])])]),t._v(" "),v("h3",{attrs:{id:"错误推送到远程仓库"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#错误推送到远程仓库"}},[t._v("#")]),t._v(" 错误推送到远程仓库")]),t._v(" "),v("ul",[v("li",[t._v("首先，需要立即通知团队成员，避免他们同步到错误代码")]),t._v(" "),v("li",[t._v("然后使用"),v("code",[t._v("git revert")]),t._v("来撤销错误提交，revert比reset安全，因为它不会改变历史记录，只是添加一个新的提交来撤销之前的更改")]),t._v(" "),v("li",[t._v("接着，在正确的分支上使用cherry-pick复制修改的内容，或者手动复制修改的内容，并提交到正确的分支")]),t._v(" "),v("li",[t._v("如果团队规模比较小，也可以考虑使用git reset --hard 和git push --force，但这需要团队所有成员的配合")]),t._v(" "),v("li",[t._v("不过force push是一个危险操作，会重写历\n史，可能导致其他开发者的工作丢失，所以我一般更倾向于使用revert方法，除非确认\n没有其他人在使用这个分支。")])]),t._v(" "),v("p",[v("code",[t._v("git cherry-pick <commit-hash>")]),t._v("：用于将提交的修改应用到另一个分支")]),t._v(" "),v("p",[v("code",[t._v("git revert <commit-hash>]")]),t._v("：用于撤销已经推送的提交")]),t._v(" "),v("p",[v("code",[t._v("git reset [--soft|--mixed|--hard] [HEAD~x|<commit-hash>]")]),t._v("：可以撤销已经推送的提交")]),t._v(" "),v("ul",[v("li",[t._v("--hard 完全丢弃最近一次提交及其所有代码修改")]),t._v(" "),v("li",[t._v("--mixed 撤销提交，并将修改移回工作目录")]),t._v(" "),v("li",[t._v("--soft 撤销修改，并保留所有修改在暂存区")]),t._v(" "),v("li",[t._v("HEAD~x 撤销前几次")])]),t._v(" "),v("h3",{attrs:{id:"预防错误提交的措施"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#预防错误提交的措施"}},[t._v("#")]),t._v(" 预防错误提交的措施")]),t._v(" "),v("p",[t._v("规范好分支命名，比如feature/xxx")]),t._v(" "),v("p",[t._v("提交前使用git status和git branch检查当前分支")])])}),[],!1,null,null,null);v.default=i.exports}}]);