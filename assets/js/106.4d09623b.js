(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{474:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("ul",[s("li",[s("p",[t._v("在wb浏览的时候经常会弹出消息框，用于给客户提示：")]),t._v(" "),s("ul",[s("li",[t._v("JavaScript根据功能把它分为三类：Alert(提示框)、Confirm(确认框)、Prompt(输入框)(不常用)")]),t._v(" "),s("li",[t._v("Selenium中把它们统称为Alert")])])]),t._v(" "),s("li",[s("p",[t._v("消息框的特点：")]),t._v(" "),s("ul",[s("li",[t._v("特点1：\n"),s("ul",[s("li",[t._v("因为它"),s("strong",[t._v('不属于网页元素，所以在消息框上右击之后，没有“检查"菜单，无法查看其网页源代码')]),t._v("。")])])]),t._v(" "),s("li",[t._v("特点2：\n"),s("ul",[s("li",[t._v("一般都是模态消息框，不关闭它，后面的网页是无法操作的。")])])])])])]),t._v(" "),s("p",[t._v("​\t\t注意：不是所有的弹出框都叫Alert,在使用 Alert前，先要识别出到底是不是Alert。")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("Alert类：是Selenium中消息框处理的专用类。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("初始化Alerta类对象")]),t._v("：")]),t._v(" "),s("ul",[s("li",[t._v("切换到消息框，得到Alert对象实例\n"),s("ul",[s("li",[s("strong",[s("code",[t._v("对象=driver.switch_to.alert")])])])])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("AIet类对象属性")]),t._v("：记录消息框里的信息。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("变量=对象.text")]),t._v(" →str类型消息框里的信息。")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("Alert类对象方法")]),t._v("：用于操作消息框。")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("对象.accept()")]),t._v("→点击确认/确定按钮。")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("对象.dismiss()")]),t._v("→点击取消按钮。")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("对象.send_keys(数据)")]),t._v("→向prompt类型消息框里输入数据。（不常用）")])])])])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("driver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find_element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("By"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("XPATH"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("//")]),t._v("img "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("contains"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@src"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bnt_cat.gif"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("'"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("click"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#输出消息框内容")]),t._v("\nmes1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("driver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("switch_to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("alert\ntex"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mes1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmes1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dismiss"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndriver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find_element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("By"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("XPATH"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'//img[contains(@src,\"bnt_colles.gif\")]'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("click"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmes2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("driver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("switch_to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("alert\ntex2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mes2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tex2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmes2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accept"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("driver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find_element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("By"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("XPATH"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'//input[@value=\"Click For Prompt\"]'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("click"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmes1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("driver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("switch_to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("alert\nmes1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("send_keys"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmes1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accept"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntex1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("driver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find_element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("By"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("NAME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_attribute"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tex1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ndriver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find_element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("By"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("XPATH"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'//input[@value=\"Click For Prompt\"]'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("click"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmes2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("driver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("switch_to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("alert\nmes2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("send_keys"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmes2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dismiss"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntex2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("driver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find_element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("By"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("NAME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_attribute"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tex2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ul",[s("li",[s("p",[t._v("小结")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("指令")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[s("code",[t._v("对象=driver.switch_to.alert")])])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("变量=对象.text")]),t._v("→str类型消息框里的信息。")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("对象.accept()")]),t._v("→点击确认/确定按钮。")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("对象.dismiss()")]),t._v("→点击取消按钮。")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("对象.send_keys(数据)")]),t._v("→向prompt类型消息框里输入数据。（不常用）")])])])])])])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom time import sleep\ndriver = webdriver.Firefox()\ndriver.implicitly_wait(5)\ndriver.get('http://localhost:8080/upload/index.php')\ndriver.find_element(By.NAME,'imageField').click()\nsleep(3)\n#输出消息框内容\nmes=driver.switch_to.alert\ntex=mes.text\nprint(tex)\nmes.accept()\ndriver.find_element(By.ID,'keyword').send_keys('806')\ndriver.find_element(By.NAME,'imageField').click()\nsleep(3)\ndriver.find_element(By.XPATH,'//a[@href=\"goods.php?id=24\"]').click()\nsleep(3)\ndriver.find_element(By.XPATH,'//a[@href=\"javascript:addToCart(24)\"]').click()\nsleep(6)\ndriver.find_element(By.LINK_TEXT,'删除').click()\nmes=driver.switch_to.alert\ntex=mes.text\nprint(tex)\nmes.dismiss()\ndriver.quit()\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);