<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>站点信息 | Cyan Blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/img/logo.png">
    <script src="https://cdn.staticfile.org/twikoo/1.6.7/twikoo.all.min.js"></script>
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <meta name="description" content="">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/assets/css/0.styles.d4903556.css" as="style"><link rel="preload" href="/assets/js/app.c321cd63.js" as="script"><link rel="preload" href="/assets/js/3.b106b38f.js" as="script"><link rel="preload" href="/assets/js/2.74e1a6dc.js" as="script"><link rel="preload" href="/assets/js/171.cc4f4d9e.js" as="script"><link rel="preload" href="/assets/js/21.2be56b3a.js" as="script"><link rel="prefetch" href="/assets/js/1.193c52f7.js"><link rel="prefetch" href="/assets/js/10.344de1f8.js"><link rel="prefetch" href="/assets/js/100.370ae6bc.js"><link rel="prefetch" href="/assets/js/101.dd3dd00c.js"><link rel="prefetch" href="/assets/js/102.cb7b6cb1.js"><link rel="prefetch" href="/assets/js/103.575a708b.js"><link rel="prefetch" href="/assets/js/104.cfd1f30a.js"><link rel="prefetch" href="/assets/js/105.16495dc7.js"><link rel="prefetch" href="/assets/js/106.4d09623b.js"><link rel="prefetch" href="/assets/js/107.1ae80320.js"><link rel="prefetch" href="/assets/js/108.2ffe4953.js"><link rel="prefetch" href="/assets/js/109.7644a7e3.js"><link rel="prefetch" href="/assets/js/11.65980781.js"><link rel="prefetch" href="/assets/js/110.f5f77130.js"><link rel="prefetch" href="/assets/js/111.c52123da.js"><link rel="prefetch" href="/assets/js/112.98526370.js"><link rel="prefetch" href="/assets/js/113.d542dd63.js"><link rel="prefetch" href="/assets/js/114.6ce7502d.js"><link rel="prefetch" href="/assets/js/115.f487f8d1.js"><link rel="prefetch" href="/assets/js/116.7e2cedd4.js"><link rel="prefetch" href="/assets/js/117.fbba9c11.js"><link rel="prefetch" href="/assets/js/118.80fd062e.js"><link rel="prefetch" href="/assets/js/119.8bffff15.js"><link rel="prefetch" href="/assets/js/12.2a96e73a.js"><link rel="prefetch" href="/assets/js/120.383ace8e.js"><link rel="prefetch" href="/assets/js/121.670a520a.js"><link rel="prefetch" href="/assets/js/122.db760062.js"><link rel="prefetch" href="/assets/js/123.b255ef48.js"><link rel="prefetch" href="/assets/js/124.07f1be22.js"><link rel="prefetch" href="/assets/js/125.1e7e599f.js"><link rel="prefetch" href="/assets/js/126.5a5eb329.js"><link rel="prefetch" href="/assets/js/127.9b42a1a8.js"><link rel="prefetch" href="/assets/js/128.73c25e6a.js"><link rel="prefetch" href="/assets/js/129.8a5109e0.js"><link rel="prefetch" href="/assets/js/13.b9343ae4.js"><link rel="prefetch" href="/assets/js/130.7928cf9b.js"><link rel="prefetch" href="/assets/js/131.6cd799a1.js"><link rel="prefetch" href="/assets/js/132.9d32575a.js"><link rel="prefetch" href="/assets/js/133.c8a06e2d.js"><link rel="prefetch" href="/assets/js/134.c5816f48.js"><link rel="prefetch" href="/assets/js/135.3ce4f27b.js"><link rel="prefetch" href="/assets/js/136.45e73a8a.js"><link rel="prefetch" href="/assets/js/137.4ece21ed.js"><link rel="prefetch" href="/assets/js/138.bf28b8a4.js"><link rel="prefetch" href="/assets/js/139.1db2a4af.js"><link rel="prefetch" href="/assets/js/14.69e22198.js"><link rel="prefetch" href="/assets/js/140.8666d223.js"><link rel="prefetch" href="/assets/js/141.2e5af866.js"><link rel="prefetch" href="/assets/js/142.5699e2ea.js"><link rel="prefetch" href="/assets/js/143.648e7a55.js"><link rel="prefetch" href="/assets/js/144.1b03d1de.js"><link rel="prefetch" href="/assets/js/145.e372bd3b.js"><link rel="prefetch" href="/assets/js/146.d8d42367.js"><link rel="prefetch" href="/assets/js/147.b3eebd8b.js"><link rel="prefetch" href="/assets/js/148.eccd1d9b.js"><link rel="prefetch" href="/assets/js/149.102fc618.js"><link rel="prefetch" href="/assets/js/15.d459c357.js"><link rel="prefetch" href="/assets/js/150.f285a7be.js"><link rel="prefetch" href="/assets/js/151.3eb04b6c.js"><link rel="prefetch" href="/assets/js/152.a87a147a.js"><link rel="prefetch" href="/assets/js/153.4250e137.js"><link rel="prefetch" href="/assets/js/154.a9da2be3.js"><link rel="prefetch" href="/assets/js/155.61d4aaf7.js"><link rel="prefetch" href="/assets/js/156.d15db98d.js"><link rel="prefetch" href="/assets/js/157.9c388d16.js"><link rel="prefetch" href="/assets/js/158.bbe7f4c8.js"><link rel="prefetch" href="/assets/js/159.418e9a29.js"><link rel="prefetch" href="/assets/js/16.30512cd1.js"><link rel="prefetch" href="/assets/js/160.e37f2fb1.js"><link rel="prefetch" href="/assets/js/161.57d1a0cf.js"><link rel="prefetch" href="/assets/js/162.a77108f8.js"><link rel="prefetch" href="/assets/js/163.90f23418.js"><link rel="prefetch" href="/assets/js/164.d1c55ebe.js"><link rel="prefetch" href="/assets/js/165.02bc7d99.js"><link rel="prefetch" href="/assets/js/166.b3b52066.js"><link rel="prefetch" href="/assets/js/167.1c3cb75c.js"><link rel="prefetch" href="/assets/js/168.86d4c108.js"><link rel="prefetch" href="/assets/js/169.08c88213.js"><link rel="prefetch" href="/assets/js/17.bc1efac0.js"><link rel="prefetch" href="/assets/js/170.70488bc9.js"><link rel="prefetch" href="/assets/js/172.dfaabc6d.js"><link rel="prefetch" href="/assets/js/173.6e44486f.js"><link rel="prefetch" href="/assets/js/174.519a0b2f.js"><link rel="prefetch" href="/assets/js/175.5ad7e02b.js"><link rel="prefetch" href="/assets/js/176.67848f0e.js"><link rel="prefetch" href="/assets/js/177.f9068ccd.js"><link rel="prefetch" href="/assets/js/178.45529894.js"><link rel="prefetch" href="/assets/js/18.21a64de1.js"><link rel="prefetch" href="/assets/js/19.64d5f534.js"><link rel="prefetch" href="/assets/js/20.89e1d371.js"><link rel="prefetch" href="/assets/js/22.45900657.js"><link rel="prefetch" href="/assets/js/23.13c3448b.js"><link rel="prefetch" href="/assets/js/24.49d1a833.js"><link rel="prefetch" href="/assets/js/25.2f8f6ca6.js"><link rel="prefetch" href="/assets/js/26.92c7f90f.js"><link rel="prefetch" href="/assets/js/27.8c744055.js"><link rel="prefetch" href="/assets/js/28.79baa388.js"><link rel="prefetch" href="/assets/js/29.a218fa63.js"><link rel="prefetch" href="/assets/js/30.9d195ba8.js"><link rel="prefetch" href="/assets/js/31.26988673.js"><link rel="prefetch" href="/assets/js/32.a28c3660.js"><link rel="prefetch" href="/assets/js/33.f6e0b0d9.js"><link rel="prefetch" href="/assets/js/34.d53fef63.js"><link rel="prefetch" href="/assets/js/35.7df6a7fe.js"><link rel="prefetch" href="/assets/js/36.e1e44491.js"><link rel="prefetch" href="/assets/js/37.d7ee7fdf.js"><link rel="prefetch" href="/assets/js/38.f63a80a2.js"><link rel="prefetch" href="/assets/js/39.f6868304.js"><link rel="prefetch" href="/assets/js/4.621d1685.js"><link rel="prefetch" href="/assets/js/40.59af6e52.js"><link rel="prefetch" href="/assets/js/41.aab19b48.js"><link rel="prefetch" href="/assets/js/42.3d8d58b6.js"><link rel="prefetch" href="/assets/js/43.13f2f8fd.js"><link rel="prefetch" href="/assets/js/44.68781adb.js"><link rel="prefetch" href="/assets/js/45.d5225feb.js"><link rel="prefetch" href="/assets/js/46.1d6fe98d.js"><link rel="prefetch" href="/assets/js/47.b3e6060c.js"><link rel="prefetch" href="/assets/js/48.c8d736ff.js"><link rel="prefetch" href="/assets/js/49.afb393bb.js"><link rel="prefetch" href="/assets/js/5.ec80a71d.js"><link rel="prefetch" href="/assets/js/50.a2e82e49.js"><link rel="prefetch" href="/assets/js/51.aa941a92.js"><link rel="prefetch" href="/assets/js/52.a867f3b1.js"><link rel="prefetch" href="/assets/js/53.cd1589f1.js"><link rel="prefetch" href="/assets/js/54.d8bc1c2a.js"><link rel="prefetch" href="/assets/js/55.cf5fc3c7.js"><link rel="prefetch" href="/assets/js/56.1bbf9b87.js"><link rel="prefetch" href="/assets/js/57.4e729991.js"><link rel="prefetch" href="/assets/js/58.2311b88d.js"><link rel="prefetch" href="/assets/js/59.7d3d23a9.js"><link rel="prefetch" href="/assets/js/6.ad639fac.js"><link rel="prefetch" href="/assets/js/60.7a60170c.js"><link rel="prefetch" href="/assets/js/61.07fec87f.js"><link rel="prefetch" href="/assets/js/62.ff4fe23a.js"><link rel="prefetch" href="/assets/js/63.a7452236.js"><link rel="prefetch" href="/assets/js/64.dd726eea.js"><link rel="prefetch" href="/assets/js/65.d759fdbf.js"><link rel="prefetch" href="/assets/js/66.fd9e3269.js"><link rel="prefetch" href="/assets/js/67.172a0e16.js"><link rel="prefetch" href="/assets/js/68.5c233fce.js"><link rel="prefetch" href="/assets/js/69.5ac57e27.js"><link rel="prefetch" href="/assets/js/70.313ff278.js"><link rel="prefetch" href="/assets/js/71.6253d391.js"><link rel="prefetch" href="/assets/js/72.19a702a7.js"><link rel="prefetch" href="/assets/js/73.11f595ed.js"><link rel="prefetch" href="/assets/js/74.3fa394e6.js"><link rel="prefetch" href="/assets/js/75.1c519d2b.js"><link rel="prefetch" href="/assets/js/76.4a486671.js"><link rel="prefetch" href="/assets/js/77.2b4801c6.js"><link rel="prefetch" href="/assets/js/78.f9cb2f88.js"><link rel="prefetch" href="/assets/js/79.c0a8606f.js"><link rel="prefetch" href="/assets/js/80.85d92987.js"><link rel="prefetch" href="/assets/js/81.c913c1fd.js"><link rel="prefetch" href="/assets/js/82.28ff4cdf.js"><link rel="prefetch" href="/assets/js/83.65845176.js"><link rel="prefetch" href="/assets/js/84.d545b3ad.js"><link rel="prefetch" href="/assets/js/85.8b1fe6db.js"><link rel="prefetch" href="/assets/js/86.552f3e0d.js"><link rel="prefetch" href="/assets/js/87.542c35d7.js"><link rel="prefetch" href="/assets/js/88.3b4c5acb.js"><link rel="prefetch" href="/assets/js/89.3389c246.js"><link rel="prefetch" href="/assets/js/9.5d9bd9d6.js"><link rel="prefetch" href="/assets/js/90.ab5ca600.js"><link rel="prefetch" href="/assets/js/91.c6e5e325.js"><link rel="prefetch" href="/assets/js/92.3ecf5f4a.js"><link rel="prefetch" href="/assets/js/93.b532aeab.js"><link rel="prefetch" href="/assets/js/94.a0575d83.js"><link rel="prefetch" href="/assets/js/95.6dae6905.js"><link rel="prefetch" href="/assets/js/96.468b187d.js"><link rel="prefetch" href="/assets/js/97.c4461b95.js"><link rel="prefetch" href="/assets/js/98.4b670398.js"><link rel="prefetch" href="/assets/js/99.b57eab2c.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.1797b467.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d4903556.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Cyan Blog" class="logo"> <span class="site-name can-hide">Cyan Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cyanyep.top/Java/JavaSE" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/Java/JUC" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JUC
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/Java/JVM" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JVM
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>Redis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cyanyep.top/Redis/RedisInstall/Win" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Redis安装
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/Redis/RedisBase" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Redis基础
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/Redis/RedisRealWar" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Redis实战
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/Redis/RedisClusterInstall" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Redis集群安装
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/Redis/RedisDistributedCache" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Redis分布式缓存
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/Redis/RedisMulti-levelCache" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Redis多级缓存
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/Redis/RedisPrinciple" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Redis原理
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>管理工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cyanyep.top/InterviewQ/INTV/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Maven
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/Git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Git
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>SSM</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cyanyep.top/SSM/Spring/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/SSM/SpringBoot/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SpringBoot
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/SSM/Mybatis/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mybatis
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/SSM/MybatisPlus/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MybatisPlus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>微服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cyanyep.top/MicroServices/Docker/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docker
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/MicroServices/RabbitMQ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RabbitMQ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/MicroServices/SpringCloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SpringCloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/MicroServices/Dubbo" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dubbo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/MicroServices/MongoDB" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MongoDB
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/MicroServices/Zookeeper" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Zookeeper
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><!----> <span class="title" style="display:;">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/Java-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/JUC-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JUC面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/JVM-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JVM面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/Linux-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Linux面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/SQL-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SQL面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/Maven-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Maven面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/Maven-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Redis面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/Spring-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SSM面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/SpringCloud-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SpringCloud面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机" class="dropdown-title"><!----> <span class="title" style="display:;">计算机</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cyanyep.top/Linux" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Linux
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/C++" target="_blank" rel="noopener noreferrer" class="nav-link external">
  C++
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cyanyep.top/DB/MySQL" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MySQL
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/DB/NoSQL" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NoSQL
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>软件测试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cyanyep.top/SoftwareTest" target="_blank" rel="noopener noreferrer" class="nav-link external">
  软件测试
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="生活" class="dropdown-title"><!----> <span class="title" style="display:;">生活</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cyanyep.top/Life/Learn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  道理
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><!----> <span class="title" style="display:;">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>关于博主</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/cyanyep" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://blog.csdn.net/rc4gyyc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>关于本站</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cyanyep.top/Blog/Introduce" target="_blank" rel="noopener noreferrer" class="nav-link external">
  如何搭建博客网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cyanyep.top/Java/JavaSE" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/Java/JUC" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JUC
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/Java/JVM" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JVM
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>Redis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cyanyep.top/Redis/RedisInstall/Win" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Redis安装
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/Redis/RedisBase" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Redis基础
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/Redis/RedisRealWar" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Redis实战
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/Redis/RedisClusterInstall" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Redis集群安装
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/Redis/RedisDistributedCache" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Redis分布式缓存
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/Redis/RedisMulti-levelCache" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Redis多级缓存
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/Redis/RedisPrinciple" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Redis原理
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>管理工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cyanyep.top/InterviewQ/INTV/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Maven
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/Git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Git
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>SSM</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cyanyep.top/SSM/Spring/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/SSM/SpringBoot/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SpringBoot
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/SSM/Mybatis/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mybatis
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/SSM/MybatisPlus/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MybatisPlus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>微服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cyanyep.top/MicroServices/Docker/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docker
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/MicroServices/RabbitMQ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RabbitMQ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/MicroServices/SpringCloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SpringCloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/MicroServices/Dubbo" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dubbo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/MicroServices/MongoDB" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MongoDB
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/MicroServices/Zookeeper" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Zookeeper
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><!----> <span class="title" style="display:;">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/Java-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/JUC-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JUC面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/JVM-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JVM面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/Linux-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Linux面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/SQL-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SQL面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/Maven-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Maven面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/Maven-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Redis面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/Spring-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SSM面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/InterviewQ/SpringCloud-Q/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SpringCloud面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机" class="dropdown-title"><!----> <span class="title" style="display:;">计算机</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cyanyep.top/Linux" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Linux
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cyanyep.top/C++" target="_blank" rel="noopener noreferrer" class="nav-link external">
  C++
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cyanyep.top/DB/MySQL" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MySQL
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cyanyep.top/DB/NoSQL" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NoSQL
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>软件测试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cyanyep.top/SoftwareTest" target="_blank" rel="noopener noreferrer" class="nav-link external">
  软件测试
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="生活" class="dropdown-title"><!----> <span class="title" style="display:;">生活</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cyanyep.top/Life/Learn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  道理
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><!----> <span class="title" style="display:;">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>关于博主</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/cyanyep" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://blog.csdn.net/rc4gyyc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>关于本站</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cyanyep.top/Blog/Introduce" target="_blank" rel="noopener noreferrer" class="nav-link external">
  如何搭建博客网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/Blog/Introduce/" class="sidebar-link">零成本搭建个人博客网站</a></li><li><a href="/Blog/build/" class="sidebar-link">从零开始搭建博客</a></li><li><a href="/Blog/More/" class="sidebar-link">更多配置</a></li><li><a href="/Blog/DN/" class="sidebar-link">域名</a></li><li><a href="/Blog/PicBed/" class="sidebar-link">图床</a></li><li><a href="/Blog/Sync/" class="sidebar-link">同步GitHub和Gitee</a></li><li><a href="/Blog/AutoDeploy/" class="sidebar-link">自动部署</a></li><li><a href="/Blog/Private/" class="sidebar-link">代码私有</a></li><li><a href="/Blog/Comment/" class="sidebar-link">评论区</a></li><li><a href="/Blog/SiteInfo/" aria-current="page" class="active sidebar-link">站点信息</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/Blog/SiteInfo/#版本一" class="sidebar-link">版本一</a></li><li class="sidebar-sub-header level2"><a href="/Blog/SiteInfo/#版本二" class="sidebar-link">版本二</a></li><li class="sidebar-sub-header level2"><a href="/Blog/SiteInfo/#_1" class="sidebar-link">1</a></li></ul></li><li><a href="/Blog/Moremore/" class="sidebar-link">MoreMore</a></li><li><a href="/Blog/Hurdles&amp;Reflections/" class="sidebar-link">障碍与反思</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-4e87b85a><div class="articleInfo" data-v-4e87b85a><ul class="breadcrumbs" data-v-4e87b85a><li data-v-4e87b85a><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-4e87b85a></a></li> <li data-v-4e87b85a><a href="/categories/?category=Blog" title="分类" data-v-4e87b85a>Blog</a></li></ul> <div class="info" data-v-4e87b85a><!----> <div title="创建时间" class="date iconfont icon-riqi" data-v-4e87b85a><a href="javascript:;" data-v-4e87b85a>2025-04-20</a></div> <div title="文章字数" class="book-words iconfont icon-book" style="float: left; margin-left: 20px; font-size: 0.8rem;" data-v-4e87b85a><a href="javascript:;" style="margin-left: 3px; color: #888" data-v-4e87b85a>0</a></div> <div title="预计阅读时间" class="reading-time iconfont icon-shijian" style="float: left; margin-left: 20px; font-size: 0.8rem;" data-v-4e87b85a><a href="javascript:;" style="margin-left: 3px; color: #888" data-v-4e87b85a>0</a></div> <div title="文章访问量" class="page-view iconfont icon-view" style="float: left; margin-left: 20px; font-size: 0.8rem;" data-v-4e87b85a><a href="javascript:;" id="busuanzi_page_pv" class="view-data" data-v-4e87b85a><i title="正在获取..." class="loading iconfont icon-loading" data-v-4e87b85a></i></a></div> <div title="本文总访客量" class="page_total_view iconfont icon-tongji" style="float: left; margin-left: 20px; font-size: 0.8rem;" data-v-4e87b85a><a href="javascript:;" id="busuanzi_page_uv" class="visitors-data" data-v-4e87b85a><i title="正在获取..." class="loading iconfont icon-loading" data-v-4e87b85a></i></a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">站点信息<!----></h1> <!----> <div class="theme-vdoing-content content__default"><p>两个版本对比：</p> <ul><li><p>两个版本主要是busuanzi插件是不一样的，两个busuanzi插件的数据是不一样的，版本二的busuanzi多了个文章访问人数数据统计，版本一是没有的，不过版本二使用的busuanzi数据可能会被重置😫。</p></li> <li><p>版本一部署后同一个页面刷新后会数据不显示，需要像版本二一样打补丁，但是版本二使用的代码是不一样的，可以学习版本二自己打补丁。</p></li> <li><p>版本二如果你做新增访问量功能会有点小bug，页面切换频繁时会数据显示异常，不做也没事。</p></li></ul> <h2 id="版本一"><a href="#版本一" class="header-anchor">#</a> 版本一</h2> <p><a href="https://pure.notes.youngkbt.cn/about/website/info/#%E5%89%8D%E8%A8%80" target="_blank" rel="noopener noreferrer">参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>跟着CV就行</p> <ul><li><p>除了里面的选择<code>readFile.js</code> 或者 <code>readFile.ts</code> 文件</p> <ul><li>如果报错<code>Error: Dynamic require of &quot;fs&quot; is not supported</code></li> <li>要选择readFile.ts</li></ul></li> <li><p>如果你的数据显示异常，要部署到线上才会显示正常</p></li> <li><p>如果你做完评论区没了，可能是你的插件被覆盖了，需要把两个插件写在一起<code>[&quot;Twikoo&quot;, &quot;PageInfo&quot;]</code>（别问我是怎么知道的，这是来自CV工程师的经验）</p> <div class="language- extra-class"><pre class="language-text"><code>  [
    {
      name: 'custom-plugins',
      globalUIComponents: [&quot;Twikoo&quot;, &quot;PageInfo&quot;] // 2.x 版本 globalUIComponents 改名为 clientAppRootComponentFiles
    }
  ],
</code></pre></div></li></ul> <h3 id="新增访问量-选做"><a href="#新增访问量-选做" class="header-anchor">#</a> 新增访问量（选做）</h3> <ul><li><p>每次看站点信息时，可以看到访问量增多，但是不知道到底增加了多少，所以我就修改了WebInfo和PageInfo中的代码，增加了显示新增访问量的功能，显示的方式为：在访问量后面显示，与你上次访问时网站的访问量相比增加了多少，</p></li> <li><p>主要是新增了showCounterWithIncrement方法，并在<code>访问量</code>元素加载后，将<code>访问量（+新增访问量）</code>覆盖上去，过一段时间后再显示回<code>访问量</code></p> <ul><li>由于<strong>代码执行得比网站快</strong>，（代码获取<code>访问量</code>后，<code>访问量</code>对应的元素才加载出来），导致我们第一次直接获取访问量可能获取不到（你也可以将第一次尝试显示新增访问量的代码去掉</li></ul> <div class="language- extra-class"><pre class="language-text"><code>setTimeout(() =&gt; {
    let indexUv = document.querySelector(&quot;.web-site-pv&quot;);
    let indexPv = document.querySelector(&quot;.web-site-uv&quot;);
    if (
      indexPv &amp;&amp; 
      indexUv &amp;&amp;
      indexPv.innerText !== &quot;&quot; &amp;&amp;
      indexUv.innerText !== &quot;&quot;
    ) {
      showCounterWithIncrement(indexPv, indexUv);
      return;
    }
	//...
}//记得后面的}也要去掉
</code></pre></div><p>，只是会等待3秒后才加载新增的访问量，PageInfo.vue的代码同理），所以我用setTimeout等待了1秒才获取<code>访问量</code>。并把iterationTime从原来的3秒改为2秒，保证加起来与原来等待的时间不变</p></li></ul> <h4 id="webinfo-vue"><a href="#webinfo-vue" class="header-anchor">#</a> WebInfo.vue</h4> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token comment">/**
 * 首页的统计量
 */</span>
<span class="token function">getIndexViewCouter</span><span class="token punctuation">(</span><span class="token parameter">iterationTime <span class="token operator">=</span> <span class="token number">1500</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> defaultCouter <span class="token operator">=</span> <span class="token string">&quot;9999&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// 提取显示访问量和新增量的公共方法</span>
  <span class="token keyword">const</span> <span class="token function-variable function">showCounterWithIncrement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">pvElement<span class="token punctuation">,</span> uvElement</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 读取 localStorage 中的上次访问量</span>
    <span class="token keyword">const</span> lastPv <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&quot;lastSitePv&quot;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> lastUv <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&quot;lastSiteUv&quot;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 当前访问量</span>
    <span class="token keyword">const</span> currentPv <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>pvElement<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> currentUv <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>uvElement<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 计算新增访问量</span>
    <span class="token keyword">const</span> newPv <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>currentPv <span class="token operator">-</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>lastPv<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> newUv <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>currentUv <span class="token operator">-</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>lastUv<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>newPv <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// 显示新增的访问量</span>
      pvElement<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>currentPv<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">（+</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newPv<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">）</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
      <span class="token comment">// 保存当前访问量到 localStorage</span>
      localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&quot;lastSitePv&quot;</span><span class="token punctuation">,</span> currentPv<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>newUv <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// 显示新增的访问量</span>
      uvElement<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>currentUv<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">（+</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newUv<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">）</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
      <span class="token comment">// 保存当前访问量到 localStorage</span>
      localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&quot;lastSiteUv&quot;</span><span class="token punctuation">,</span> currentUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 设置定时器隐藏新增访问量</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      pvElement<span class="token punctuation">.</span>innerText <span class="token operator">=</span> currentPv<span class="token punctuation">;</span> <span class="token comment">// 仅显示总访问量</span>
      uvElement<span class="token punctuation">.</span>innerText <span class="token operator">=</span> currentUv<span class="token punctuation">;</span> <span class="token comment">// 仅显示总访问量</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5秒后隐藏新增访问量</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> indexUv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.web-site-pv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> indexPv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.web-site-uv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>
      indexPv <span class="token operator">&amp;&amp;</span> 
      indexUv <span class="token operator">&amp;&amp;</span>
      indexPv<span class="token punctuation">.</span>innerText <span class="token operator">!==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span>
      indexUv<span class="token punctuation">.</span>innerText <span class="token operator">!==</span> <span class="token string">&quot;&quot;</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">showCounterWithIncrement</span><span class="token punctuation">(</span>indexPv<span class="token punctuation">,</span> indexUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 如果只需要第一次获取数据（可能获取失败），可注释掉 setTimeout 内容，此内容是第一次获取失败后，重新获取访问量</span>
    <span class="token comment">// 可能会导致访问量再次 + 1 原因：取决于 setTimeout 的时间（需求调节），setTimeout 太快导致第一个获取的数据没返回，就第二次获取，导致结果返回 + 2 的数据</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> indexUv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.web-site-pv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> indexPv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.web-site-uv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>
        indexPv <span class="token operator">&amp;&amp;</span> 
        indexUv <span class="token operator">&amp;&amp;</span>
        indexPv<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span>
        indexUv<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span>
      <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// 再次判断原因：防止进入 setInterval 的瞬间，访问量获取成功</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>
            indexPv <span class="token operator">&amp;&amp;</span> 
            indexUv <span class="token operator">&amp;&amp;</span>
            indexPv<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span>
            indexUv<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span>
          <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            i <span class="token operator">+=</span> iterationTime<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> iterationTime <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              indexPv<span class="token punctuation">.</span>innerText <span class="token operator">=</span> defaultCouter<span class="token punctuation">;</span>
              indexUv<span class="token punctuation">.</span>innerText <span class="token operator">=</span> defaultCouter<span class="token punctuation">;</span>
              <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5 次后无法获取，则取消获取</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>indexPv<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> indexUv<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// 手动获取访问量</span>
              <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token function">showCounterWithIncrement</span><span class="token punctuation">(</span>indexPv<span class="token punctuation">,</span> indexUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">showCounterWithIncrement</span><span class="token punctuation">(</span>indexPv<span class="token punctuation">,</span> indexUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> iterationTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 绑定 beforeDestroy 生命钩子，清除定时器</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$once</span><span class="token punctuation">(</span><span class="token string">&quot;hook:beforeDestroy&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
          interval <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>indexPv <span class="token operator">&amp;&amp;</span> indexUv<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">showCounterWithIncrement</span><span class="token punctuation">(</span>indexPv<span class="token punctuation">,</span> indexUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> iterationTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1500</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h4 id="pageinfo-vue"><a href="#pageinfo-vue" class="header-anchor">#</a> PageInfo.vue</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 文章页的访问量
 */</span>
<span class="token function">getPageViewCouter</span><span class="token punctuation">(</span><span class="token parameter">iterationTime <span class="token operator">=</span> <span class="token number">1500</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> defaultCouter <span class="token operator">=</span> <span class="token string">&quot;9999&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// 提取显示访问量和新增量的公共方法</span>
  <span class="token keyword">const</span> <span class="token function-variable function">showPageViewWithIncrement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取当前文章的唯一标识符</span>
    <span class="token keyword">const</span> articleKey <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$frontmatter<span class="token punctuation">.</span>permalink <span class="token operator">||</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname<span class="token punctuation">;</span>
    <span class="token comment">// 读取上次访问量</span>
    <span class="token keyword">const</span> lastPageView <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">lastPagePv_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>articleKey<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">// 当前访问量</span>
    <span class="token keyword">const</span> currentPageView <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 计算新增访问量（确保不为负数）</span>
    <span class="token keyword">const</span> newPageView <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>currentPageView <span class="token operator">-</span> lastPageView<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>newPageView <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// 显示新增访问量</span>
      element<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>currentPageView<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">（+</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newPageView<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">）</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
      <span class="token comment">// 保存当前访问量</span>
      localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">lastPagePv_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>articleKey<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> currentPageView<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 设置定时器隐藏新增访问量</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        element<span class="token punctuation">.</span>innerText <span class="token operator">=</span> currentPageView<span class="token punctuation">;</span> <span class="token comment">// 仅显示总访问量</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5秒后隐藏新增访问量</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> pageView <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.view-data&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView <span class="token operator">&amp;&amp;</span> pageView<span class="token punctuation">.</span>innerText <span class="token operator">!==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">showPageViewWithIncrement</span><span class="token punctuation">(</span>pageView<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 如果只需要第一次获取数据（可能获取失败），可注释掉 setTimeout 内容，此内容是第一次获取失败后，重新获取访问量</span>
    <span class="token comment">// 可能会导致访问量再次 + 1 原因：取决于 setTimeout 的时间（需求调节），setTimeout 太快导致第一个获取的数据没返回，就第二次获取，导致结果返回 + 2 的数据</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> pageView <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.view-data&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView <span class="token operator">&amp;&amp;</span> pageView<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// 再次判断原因：防止进入 setInterval 的瞬间，访问量获取成功</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView <span class="token operator">&amp;&amp;</span> pageView<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            i <span class="token operator">+=</span> iterationTime<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> iterationTime <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              pageView<span class="token punctuation">.</span>innerText <span class="token operator">=</span> defaultCouter<span class="token punctuation">;</span>
              <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5 次后无法获取，则取消获取</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// 手动获取访问量</span>
              <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token function">showPageViewWithIncrement</span><span class="token punctuation">(</span>pageView<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">showPageViewWithIncrement</span><span class="token punctuation">(</span>pageView<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> iterationTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 绑定 beforeDestroy 生命钩子，清除定时器</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$once</span><span class="token punctuation">(</span><span class="token string">&quot;hook:beforeDestroy&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
          interval <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>pageView<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">showPageViewWithIncrement</span><span class="token punctuation">(</span>pageView<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> iterationTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1500</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="版本二"><a href="#版本二" class="header-anchor">#</a> 版本二</h2> <p><a href="https://liyao52033.github.io/pages/d18e21/#%E5%89%8D%E8%A8%80" target="_blank" rel="noopener noreferrer">参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>跟着CV就行</p> <ul><li>如果报错<code>Error: Dynamic require of &quot;fs&quot; is not supported</code></li> <li>要到<strong>版本一</strong>中复制里面的readFile.ts，不用readFile.js</li></ul> <p><code>WebInfo.vue</code></p> <div class="language- extra-class"><pre class="language-text"><code>&lt;template&gt;
    &lt;!-- Young Kbt --&gt;
    &lt;div class=&quot;web-info card-box&quot;&gt;
        &lt;div class=&quot;webinfo-title&quot;&gt;
            &lt;i class=&quot;iconfont icon-award&quot; style=&quot;font-size: 0.875rem; font-weight: 900; width: 1.25em&quot;&gt;&lt;/i&gt;
            &lt;span&gt;站点信息&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class=&quot;webinfo-item&quot;&gt;
            &lt;div class=&quot;webinfo-item-title&quot;&gt;文章数目：&lt;/div&gt;
            &lt;div class=&quot;webinfo-content&quot;&gt;{{ mdFileCount }} 篇&lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;webinfo-item&quot;&gt;
            &lt;div class=&quot;webinfo-item-title&quot;&gt;已运行时间：&lt;/div&gt;
            &lt;div class=&quot;webinfo-content&quot;&gt;
                {{ createToNowDay != 0 ? createToNowDay + &quot; 天&quot; : &quot;不到一天&quot; }}
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;webinfo-item&quot;&gt;
            &lt;div class=&quot;webinfo-item-title&quot;&gt;本站总字数：&lt;/div&gt;
            &lt;div class=&quot;webinfo-content&quot;&gt;{{ totalWords }} 字&lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;webinfo-item&quot;&gt;
            &lt;div class=&quot;webinfo-item-title&quot;&gt;最后活动时间：&lt;/div&gt;
            &lt;div class=&quot;webinfo-content&quot;&gt;
                {{ lastActiveDate == &quot;刚刚&quot; ? &quot;刚刚&quot; : lastActiveDate + &quot;前&quot; }}
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;div v-if=&quot;indexView&quot; class=&quot;webinfo-item&quot;&gt;
            &lt;div class=&quot;webinfo-item-title&quot;&gt;本站访问人次：&lt;/div&gt;
            &lt;div class=&quot;webinfo-content&quot;&gt;
                &lt;!-- &lt;span id=&quot;busuanzi_value_site_pv&quot; class=&quot;web-site-pv&quot;&gt;&lt;i title=&quot;正在获取...&quot;
                        class=&quot;loading iconfont icon-loading&quot;&gt;&lt;/i&gt;
                &lt;/span&gt; --&gt;
                &lt;span id=&quot;busuanzi_site_pv&quot; class=&quot;web-site-pv&quot;&gt;&lt;i title=&quot;正在获取...&quot;
                        class=&quot;loading iconfont icon-loading&quot;&gt;&lt;/i&gt;
                &lt;/span&gt;
                次
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;div v-if=&quot;indexView&quot; class=&quot;webinfo-item&quot;&gt;
            &lt;div class=&quot;webinfo-item-title&quot;&gt;本站访客人数：&lt;/div&gt;
            &lt;div class=&quot;webinfo-content busuanzi&quot;&gt;
                &lt;!-- &lt;span id=&quot;busuanzi_value_site_uv&quot; class=&quot;web-site-uv&quot;&gt;&lt;i title=&quot;正在获取...&quot;
                        class=&quot;loading iconfont icon-loading&quot;&gt;&lt;/i&gt;
                &lt;/span&gt; --&gt;
               &lt;span id=&quot;busuanzi_site_uv&quot; class=&quot;web-site-uv&quot;&gt;&lt;i title=&quot;正在获取...&quot;
                            class=&quot;loading iconfont icon-loading&quot;&gt;&lt;/i&gt;
                 &lt;/span&gt;
                人
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { dayDiff, timeDiff, lastUpdatePosts } from &quot;../webSiteInfo/utils&quot;;
import fetch from &quot;../webSiteInfo/busuanzi&quot;; // 统计量
export default {
    data() {
        return {
            // Young Kbt
            mdFileCount: 0, // markdown 文档总数
            createToNowDay: 0, // 博客创建时间距今多少天
            lastActiveDate: &quot;&quot;, // 最后活动时间
            totalWords: 0, // 本站总字数
            indexView: true, // 开启访问量和排名统计
        };
    },
    computed: {
        $lastUpdatePosts() {
            return lastUpdatePosts(this.$filterPosts);
        },
    },
    mounted() {
        // Young Kbt
        if (Object.keys(this.$themeConfig.blogInfo).length &gt; 0) {
            const {
                blogCreate,
                mdFileCountType,
                totalWords,
                moutedEvent,
                eachFileWords,
                indexIteration,
                indexView,
            } = this.$themeConfig.blogInfo;
            this.createToNowDay = dayDiff(blogCreate);
            if (mdFileCountType != &quot;archives&quot;) {
                this.mdFileCount = mdFileCountType.length;
            } else {
                this.mdFileCount = this.$filterPosts.length;
            }
            if (totalWords == &quot;archives&quot; &amp;&amp; eachFileWords) {
                let archivesWords = 0;
                eachFileWords.forEach((itemFile) =&gt; {
                    if (itemFile.wordsCount &lt; 1000) {
                        archivesWords += itemFile.wordsCount;
                    } else {
                        let wordsCount = itemFile.wordsCount.slice(
                            0,
                            itemFile.wordsCount.length - 1
                        );
                        archivesWords += wordsCount * 1000;
                    }
                });
                this.totalWords = Math.round(archivesWords / 100) / 10 + &quot;k&quot;;
            } else if (totalWords == &quot;archives&quot;) {
                this.totalWords = 0;
                // console.log(
                //     &quot;如果 totalWords = 'archives'，必须传入 eachFileWords，显然您并没有传入！&quot;
                // );
            } else {
                this.totalWords = totalWords;
            }
            // 最后一次活动时间
            this.lastActiveDate = timeDiff(this.$lastUpdatePosts[0].lastUpdated);
            this.mountedWebInfo(moutedEvent);
            // 获取访问量和排名
            this.indexView = indexView == undefined ? true : indexView;
            if (this.indexView) {
                this.getIndexViewCouter(indexIteration);
            }
        }
    },
    methods: {
        /**
         * 挂载站点信息模块
         */
        mountedWebInfo(moutedEvent = &quot;.tags-wrapper&quot;) {
            let interval = setInterval(() =&gt; {
                const tagsWrapper = document.querySelector(moutedEvent);
                const webInfo = document.querySelector(&quot;.web-info&quot;);
                if (tagsWrapper &amp;&amp; webInfo) {
                    if (!this.isSiblilngNode(tagsWrapper, webInfo)) {
                        tagsWrapper.parentNode.insertBefore(
                            webInfo,
                            tagsWrapper.nextSibling
                        );
                        clearInterval(interval);
                    }
                }
            }, 200);
        },
        /**
         * 挂载在兄弟元素后面，说明当前组件是 siblingNode 变量
         */
        isSiblilngNode(element, siblingNode) {
            if (element.siblingNode == siblingNode) {
                return true;
            } else {
                return false;
            }
        },
         /**
         * 首页的统计量
         */
        getIndexViewCouter(iterationTime = 3000) {
            fetch();
            var i = 0;
            var defaultCouter = &quot;9999&quot;;
            // 如果只需要第一次获取数据（可能获取失败），可注释掉 setTimeout 内容，此内容是第一次获取失败后，重新获取访问量
            // 可能会导致访问量再次 + 1 原因：取决于 setTimeout 的时间（需求调节），setTimeout 太快导致第一个获取的数据没返回，就第二次获取，导致结果返回 + 2 的数据
            setTimeout(() =&gt; {
                let indexUv = document.querySelector(&quot;.web-site-pv&quot;);
                let indexPv = document.querySelector(&quot;.web-site-uv&quot;);
                if (
                    indexPv &amp;&amp;
                    indexUv &amp;&amp;
                    indexPv.innerText == &quot;&quot; &amp;&amp;
                    indexUv.innerText == &quot;&quot;
                ) {
                    let interval = setInterval(() =&gt; {
                        // 再次判断原因：防止进入 setInterval 的瞬间，访问量获取成功
                        if (
                            indexPv &amp;&amp;
                            indexUv &amp;&amp;
                            indexPv.innerText == &quot;&quot; &amp;&amp;
                            indexUv.innerText == &quot;&quot;
                        ) {
                            i += iterationTime;
                            if (i &gt; iterationTime * 5) {
                                indexPv.innerText = defaultCouter;
                                indexUv.innerText = defaultCouter;
                                clearInterval(interval); // 5 次后无法获取，则取消获取
                            }
                            if (indexPv.innerText == &quot;&quot; &amp;&amp; indexUv.innerText == &quot;&quot;) {
                                // 手动获取访问量
                                fetch();
                            } else {
                                clearInterval(interval);
                            }
                        } else {
                            clearInterval(interval);
                        }
                    }, iterationTime);
                    // 绑定 beforeDestroy 生命钩子，清除定时器
                    this.$once(&quot;hook:beforeDestroy&quot;, () =&gt; {
                        clearInterval(interval);
                        interval = null;
                    });
                }
            }, iterationTime);
        },
        beforeMount() {
            let webInfo = document.querySelector(&quot;.web-info&quot;);
            webInfo &amp;&amp; webInfo.parentNode.removeChild(webInfo);
        },
    },
};
&lt;/script&gt;

&lt;style scoped&gt;
.web-info {
    font-size: 0.875rem;
    padding: 0.95rem;
}

.webinfo-title {
    text-align: center;
    color: #888;
    font-weight: bold;
    padding: 0 0 10px 0;
}

.webinfo-item {
    padding: 8px 0 0;
    margin: 0;
}

.webinfo-item-title {
    display: inline-block;
}

.webinfo-content {
    display: inline-block;
    float: right;
}

@keyframes turn {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

.loading {
    display: inline-block;
    animation: turn 1s linear infinite;
    -webkit-animation: turn 1s linear infinite;
}
&lt;/style&gt;

</code></pre></div><p><code>PageInfo.vue</code></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- 当前文章页字数 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>book-words iconfont icon-book<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 0.8rem<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin-left</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> #888</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>{{ wordsCount }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- 预计阅读时间 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reading-time iconfont icon-shijian<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 0.8rem<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin-left</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> #888</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>{{ readTimeCount }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

         <span class="token comment">&lt;!-- 文章页访问量 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-view iconfont icon-view<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 0.8rem<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>busuanzi_page_pv<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>view-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>正在获取...<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loading iconfont icon-loading<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

            <span class="token comment">&lt;!-- 本文总访客量 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page_total_view iconfont icon-tongji<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 0.8rem<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>busuanzi_page_uv<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>view-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>正在获取...<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loading iconfont icon-loading<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> fetch <span class="token keyword">from</span> <span class="token string">&quot;../webSiteInfo/busuanzi&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>

     <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">wordsCount</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token literal-property property">readTimeCount</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token literal-property property">mountedIntervalTime</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
      <span class="token comment">//      showPageInfo: true,</span>
            <span class="token literal-property property">moutedParentEvent</span><span class="token operator">:</span> <span class="token string">&quot;.articleInfo-wrap &gt; .articleInfo &gt; .info&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">mounted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>path <span class="token operator">!=</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initPageInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isMounted</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.page-info&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">$route</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 如果页面是非首页，# 号也会触发路由变化，这里要排除掉</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>path <span class="token operator">!=</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">&amp;&amp;</span> to<span class="token punctuation">.</span>path <span class="token operator">!=</span> from<span class="token punctuation">.</span>path <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$themeConfig<span class="token punctuation">.</span>blogInfo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initPageInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isMounted</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.page-info&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">/**
         * 初始化页面信息
         */</span>
        <span class="token function">initPageInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$frontmatter<span class="token punctuation">.</span>article <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$frontmatter<span class="token punctuation">.</span>article<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 排除掉 article 为 false 的文章</span>
                <span class="token keyword">const</span> <span class="token punctuation">{</span> eachFileWords<span class="token punctuation">,</span> pageView<span class="token punctuation">,</span> pageIteration<span class="token punctuation">,</span> readingTime <span class="token punctuation">}</span> <span class="token operator">=</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>$themeConfig<span class="token punctuation">.</span>blogInfo<span class="token punctuation">;</span>
                <span class="token comment">// 下面两个 if 可以调换位置，从而让文章的浏览量和字数交换位置</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>eachFileWords<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">try</span> <span class="token punctuation">{</span>
                        eachFileWords<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">itemFile</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span> <span class="token punctuation">(</span>itemFile<span class="token punctuation">.</span>permalink <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$frontmatter<span class="token punctuation">.</span>permalink<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token comment">// this.addPageWordsCount 和 if 可以调换位置，从而让文章的字数和预阅读时间交换位置</span>
                                <span class="token keyword">this</span><span class="token punctuation">.</span>wordsCount <span class="token operator">=</span> itemFile<span class="token punctuation">.</span>wordsCount<span class="token punctuation">;</span>
                                <span class="token keyword">if</span> <span class="token punctuation">(</span>readingTime <span class="token operator">||</span> readingTime <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    <span class="token keyword">this</span><span class="token punctuation">.</span>readTimeCount <span class="token operator">=</span> itemFile<span class="token punctuation">.</span>readingTime<span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;获取浏览量失败：&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView <span class="token operator">||</span> pageView <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addPageView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addtotalPageView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPageViewCouter</span><span class="token punctuation">(</span>pageIteration<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                 <span class="token keyword">let</span> page <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.page-info&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>page<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mountedView</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token comment">// else { </span>
                <span class="token comment">//     console.error(&quot;初始化失败：&quot;, &quot;站点信息不存在&quot;);</span>
                <span class="token comment">// }</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">/**
         * 文章页的访问量
         */</span>
        <span class="token function">getPageViewCouter</span><span class="token punctuation">(</span><span class="token parameter">iterationTime <span class="token operator">=</span> <span class="token number">3000</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> defaultCouter <span class="token operator">=</span> <span class="token string">&quot;9999&quot;</span><span class="token punctuation">;</span>
            <span class="token comment">// 如果只需要第一次获取数据（可能获取失败），可注释掉 setTimeout 内容，此内容是第一次获取失败后，重新获取访问量</span>
            <span class="token comment">// 可能会导致访问量再次 + 1 原因：取决于 setTimeout 的时间（需求调节），setTimeout 太快导致第一个获取的数据没返回，就第二次获取，导致结果返回 + 2 的数据</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> pageView <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.view-data&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView <span class="token operator">&amp;&amp;</span> pageView<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">let</span> interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        <span class="token comment">// 再次判断原因：防止进入 setInterval 的瞬间，访问量获取成功</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView <span class="token operator">&amp;&amp;</span> pageView<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            i <span class="token operator">+=</span> iterationTime<span class="token punctuation">;</span>
                            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> iterationTime <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                pageView<span class="token punctuation">.</span>innerText <span class="token operator">=</span> defaultCouter<span class="token punctuation">;</span>
                                <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5 次后无法获取，则取消获取</span>
                            <span class="token punctuation">}</span>
                            <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token comment">// 手动获取访问量</span>
                                <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                                <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                            <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span> iterationTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// 绑定 beforeDestroy 生命钩子，清除定时器</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$once</span><span class="token punctuation">(</span><span class="token string">&quot;hook:beforeDestroy&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        interval <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> iterationTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">/**
         * 浏览量
         */</span>
        <span class="token function">addPageView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> pageView <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.page-view&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 添加 loading 效果</span>
                <span class="token keyword">let</span> style <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;style&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                style<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@keyframes turn {
                0% {
                transform: rotate(0deg);
                }
                100% {
                transform: rotate(360deg);
                }
            }
             .loading {
                display: inline-block;
                animation: turn 1s linear infinite;
                -webkit-animation: turn 1s linear infinite;
            }
          </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
                        document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>style<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

         <span class="token comment">/**
        * 本文总访客量
        */</span>
        <span class="token function">addtotalPageView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> pageView <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.page_total_view&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
             <span class="token comment">// 添加 loading 效果</span>
                <span class="token keyword">let</span> style <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;style&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                style<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@keyframes turn {
                0% {
                transform: rotate(0deg);
                }
                100% {
                transform: rotate(360deg);
                }
            }
            .loading {
                display: inline-block;
                animation: turn 1s linear infinite;
                -webkit-animation: turn 1s linear infinite;
            }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
                document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>style<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token comment">/**
         * 挂载目标到页面上
         */</span>
        <span class="token function">mountedView</span><span class="token punctuation">(</span><span class="token parameter">template</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> parentElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>moutedParentEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>parentElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isMountedView</span><span class="token punctuation">(</span>template<span class="token punctuation">,</span> parentElement<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    parentElement<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>template<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
               <span class="token keyword">let</span> interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token keyword">let</span> parentElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>moutedParentEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>parentElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isMountedView</span><span class="token punctuation">(</span>template<span class="token punctuation">,</span> parentElement<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        parentElement<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>template<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 10 秒后清除</span>
                    <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mountedIntervalTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 绑定 beforeDestroy 生命钩子，清除定时器</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$once</span><span class="token punctuation">(</span><span class="token string">&quot;hook:beforeDestroy&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
                interval <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token comment">//* 用于判断是否已经挂载到页面上 */</span>
        <span class="token function">isMounted</span><span class="token punctuation">(</span><span class="token parameter">template</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token keyword">let</span> parentElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>moutedParentEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>parentElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isMountedView</span><span class="token punctuation">(</span>template<span class="token punctuation">,</span> parentElement<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> template<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        parentElement<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>template<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 10 秒后清除</span>
                    <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mountedIntervalTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 绑定 beforeDestroy 生命钩子，清除定时器</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$once</span><span class="token punctuation">(</span><span class="token string">&quot;hook:beforeDestroy&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
                interval <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
       
        <span class="token comment">/**
         * 目标是否已经挂载在页面上
         */</span>
        <span class="token function">isMountedView</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> parentElement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>parentNode <span class="token operator">==</span> parentElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> 
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
       
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
 <span class="token selector">.view-data</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token selector">.page-info</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 <span class="token selector">.page-hide</span><span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> 
    <span class="token comment">/* position: fixed;
    top: 96px;
    right: 450px;
    background-color: red; */</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h3 id="将pageinfo添加到源码中"><a href="#将pageinfo添加到源码中" class="header-anchor">#</a> 将pageInfo添加到源码中</h3> <blockquote><p>vupress默认主题的基础上使用vdoing主题会有刷新页面文章页站点信息在页面上不显示的问题，可修改vdoing主题源码，然后用patch-package打补丁</p></blockquote> <p>https://liyao52033.github.io/pages/d18e21/#%E5%B0%86pageinfo%E6%B7%BB%E5%8A%A0%E5%88%B0%E6%BA%90%E7%A0%81%E4%B8%AD</p> <p>在本地开发环境中：</p> <h4 id="_1-安装-patch-package"><a href="#_1-安装-patch-package" class="header-anchor">#</a> 1.安装 <code>patch-package</code>：</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> patch-package --save-dev
</code></pre></div><h4 id="_2-修改node-modules源码"><a href="#_2-修改node-modules源码" class="header-anchor">#</a> 2. 修改node_modules源码</h4> <ul><li><p>删除原来的.vuepress/components/PageInfo.vue文件，</p></li> <li><p>将原来.vuepress/webSiteInfo中的busuanzi.js添加到node_modules/vuepress-theme-vdoing/util中</p></li> <li><p>修改node_modules/vuepress-theme-vdoing/components中的<code>ArticleInfo.vue</code></p></li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>articleInfo-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>articleInfo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- 面包屑 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>breadcrumbs<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classify1 &amp;&amp; classify1 !== '_posts'<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>首页<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in classifyList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token comment">&lt;!-- 跳目录页 --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cataloguePermalink<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getLink(item)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{
            item
          }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
          <span class="token comment">&lt;!-- 跳分类页 --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span>
            <span class="token attr-name">v-else-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$themeConfig.category !== false<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`/categories/?category=${encodeURIComponent(item)}`<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>分类<span class="token punctuation">&quot;</span></span>
            <span class="token punctuation">&gt;</span></span>{{ item }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span>
          <span class="token punctuation">&gt;</span></span>
          <span class="token comment">&lt;!-- 没有跳转 --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>{{ item }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

      <span class="token comment">&lt;!-- 作者&amp;日期 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author iconfont icon-touxiang<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>作者<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
            <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author.href || author.link<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>
              author.href || (author.link &amp;&amp; typeof author.link === 'string')
            <span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_blank<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>beLink<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>作者<span class="token punctuation">&quot;</span></span>
            <span class="token punctuation">&gt;</span></span>{{ author.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span>
          <span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">v-else</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ author.name || author }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>date iconfont icon-riqi<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>创建时间<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>date<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ date }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 当前文章页字数 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>book-words iconfont icon-book<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 0.8rem<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>文章字数<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin-left</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> #888</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>{{ wordsCount }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- 预计阅读时间 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reading-time iconfont icon-shijian<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 0.8rem<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>预计阅读时间<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin-left</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> #888</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>{{ readTimeCount }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- 文章页访问量 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-view iconfont icon-view<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 0.8rem<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>文章访问量<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>busuanzi_page_pv<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>view-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>正在获取...<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loading iconfont icon-loading<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

      <span class="token comment">&lt;!-- 本文总访客量 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page_total_view iconfont icon-tongji<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 0.8rem<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>本文总访客量<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>busuanzi_page_uv<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visitors-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>正在获取...<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loading iconfont icon-loading<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
          <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>date iconfont icon-wenjian<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>分类<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>
            $themeConfig.category !== false &amp;&amp;
            !(classify1 &amp;&amp; classify1 !== '_posts') &amp;&amp;
            categories
          <span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span>
            <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`/categories/?category=${encodeURIComponent(item)}`<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in categories<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span>
            <span class="token punctuation">&gt;</span></span>{{ item + ' ' }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span>
          <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> fetch <span class="token keyword">from</span> <span class="token string">'../util/busuanzi.js'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">classify1</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">classifyList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">cataloguePermalink</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token literal-property property">categories</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">wordsCount</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">readTimeCount</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mountedIntervalTime</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
      <span class="token literal-property property">moutedParentEvent</span><span class="token operator">:</span> <span class="token string">&quot;.articleInfo-wrap &gt; .articleInfo &gt; .info&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPageInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initPageInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">'$route.path'</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>classifyList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPageInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initPageInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">getPageInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> pageInfo <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$page
      <span class="token keyword">const</span> <span class="token punctuation">{</span> relativePath <span class="token punctuation">}</span> <span class="token operator">=</span> pageInfo
      <span class="token keyword">const</span> <span class="token punctuation">{</span> sidebar <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$themeConfig

      <span class="token comment">// 分类采用解析文件夹地址名称的方式 (即使关闭分类功能也可以正确跳转目录页)</span>
      <span class="token keyword">const</span> relativePathArr <span class="token operator">=</span> relativePath<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>

      <span class="token comment">// const classifyArr = relativePathArr[0].split('.')</span>

      relativePathArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> nameArr <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!==</span> relativePathArr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>nameArr <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>classifyList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nameArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> firstDotIndex <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>classifyList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>firstDotIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      <span class="token keyword">this</span><span class="token punctuation">.</span>classify1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>classifyList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

      <span class="token keyword">const</span> cataloguePermalink <span class="token operator">=</span> sidebar <span class="token operator">&amp;&amp;</span> sidebar<span class="token punctuation">.</span>catalogue <span class="token operator">?</span> sidebar<span class="token punctuation">.</span>catalogue<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>classify1<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token comment">// 目录页永久链接</span>
      <span class="token keyword">const</span> author <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$frontmatter<span class="token punctuation">.</span>author <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$themeConfig<span class="token punctuation">.</span>author <span class="token comment">// 作者</span>
      <span class="token keyword">let</span> date <span class="token operator">=</span> <span class="token punctuation">(</span>pageInfo<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>date <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// 文章创建时间</span>

      <span class="token comment">// 获取页面frontmatter的分类（碎片化文章使用）</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> categories <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$frontmatter

      <span class="token keyword">this</span><span class="token punctuation">.</span>date <span class="token operator">=</span> date
      <span class="token keyword">this</span><span class="token punctuation">.</span>cataloguePermalink <span class="token operator">=</span> cataloguePermalink
      <span class="token keyword">this</span><span class="token punctuation">.</span>author <span class="token operator">=</span> author
      <span class="token keyword">this</span><span class="token punctuation">.</span>categories <span class="token operator">=</span> categories
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">getLink</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> cataloguePermalink <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">===</span> cataloguePermalink<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> cataloguePermalink
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cataloguePermalink<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cataloguePermalink<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>cataloguePermalink<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'/'</span>
        <span class="token operator">?</span> <span class="token string">''</span>
        <span class="token operator">:</span> <span class="token string">'/'</span>
        <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

     <span class="token comment">/**
        * 初始化页面信息
        */</span>
    <span class="token function">initPageInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$frontmatter<span class="token punctuation">.</span>article <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$frontmatter<span class="token punctuation">.</span>article<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 排除掉 article 为 false 的文章</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> eachFileWords<span class="token punctuation">,</span> pageView<span class="token punctuation">,</span> pageIteration<span class="token punctuation">,</span> readingTime <span class="token punctuation">}</span> <span class="token operator">=</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>$themeConfig<span class="token punctuation">.</span>blogInfo<span class="token punctuation">;</span>
        <span class="token comment">// 下面两个 if 可以调换位置，从而让文章的浏览量和字数交换位置</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>eachFileWords<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">try</span> <span class="token punctuation">{</span>
            eachFileWords<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">itemFile</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>itemFile<span class="token punctuation">.</span>permalink <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$frontmatter<span class="token punctuation">.</span>permalink<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// this.addPageWordsCount 和 if 可以调换位置，从而让文章的字数和预阅读时间交换位置</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>wordsCount <span class="token operator">=</span> itemFile<span class="token punctuation">.</span>wordsCount<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>readingTime <span class="token operator">||</span> readingTime <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">this</span><span class="token punctuation">.</span>readTimeCount <span class="token operator">=</span> itemFile<span class="token punctuation">.</span>readingTime<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//     console.error(&quot;获取浏览量失败：&quot;, error);</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView <span class="token operator">||</span> pageView <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addPageView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addtotalPageView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPageViewCouter</span><span class="token punctuation">(</span>pageIteration<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token comment">/**
     * 文章页的访问量
     */</span>
    <span class="token function">getPageViewCouter</span><span class="token punctuation">(</span><span class="token parameter">iterationTime <span class="token operator">=</span> <span class="token number">3000</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> defaultCouter <span class="token operator">=</span> <span class="token string">&quot;9999&quot;</span><span class="token punctuation">;</span>
      <span class="token comment">// 如果只需要第一次获取数据（可能获取失败），可注释掉 setTimeout 内容，此内容是第一次获取失败后，重新获取访问量</span>
      <span class="token comment">// 可能会导致访问量再次 + 1 原因：取决于 setTimeout 的时间（需求调节），setTimeout 太快导致第一个获取的数据没返回，就第二次获取，导致结果返回 + 2 的数据</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> pageView <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.view-data&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView <span class="token operator">&amp;&amp;</span> pageView<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 再次判断原因：防止进入 setInterval 的瞬间，访问量获取成功</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView <span class="token operator">&amp;&amp;</span> pageView<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              i <span class="token operator">+=</span> iterationTime<span class="token punctuation">;</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> iterationTime <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                pageView<span class="token punctuation">.</span>innerText <span class="token operator">=</span> defaultCouter<span class="token punctuation">;</span>
                <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5 次后无法获取，则取消获取</span>
              <span class="token punctuation">}</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 手动获取访问量</span>
                <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> iterationTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// 绑定 beforeDestroy 生命钩子，清除定时器</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$once</span><span class="token punctuation">(</span><span class="token string">&quot;hook:beforeDestroy&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
            interval <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> iterationTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * 浏览量
     */</span>
    <span class="token function">addPageView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> pageView <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.page-view&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 添加 loading 效果</span>
        <span class="token keyword">let</span> style <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;style&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        style<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@keyframes turn {
                0% {
                transform: rotate(0deg);
                }
                100% {
                transform: rotate(360deg);
                }
            }
             .loading {
                display: inline-block;
                animation: turn 1s linear infinite;
                -webkit-animation: turn 1s linear infinite;
            }
          </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>style<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">/**
   * 本文总访客量
   */</span>
    <span class="token function">addtotalPageView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> pageView <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.page_total_view&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 添加 loading 效果</span>
        <span class="token keyword">let</span> style <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;style&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        style<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@keyframes turn {
                0% {
                transform: rotate(0deg);
                }
                100% {
                transform: rotate(360deg);
                }
            }
            .loading {
                display: inline-block;
                animation: turn 1s linear infinite;
                -webkit-animation: turn 1s linear infinite;
            }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>style<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>stylus<span class="token punctuation">'</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token atrule"><span class="token rule">@require</span> <span class="token string">'../styles/wrapper.styl'</span>

.theme-style-line
  .articleInfo-wrap
    .articleInfo
      padding-top 0.5rem
.articleInfo-wrap
  @extend $wrapper
  position relative
  z-index 1
  color #888
  .articleInfo
    overflow hidden
    font-size 0.92rem
    .breadcrumbs
      margin 0
      padding 0
      overflow hidden
      display inline-block
      line-height 2rem
      @media <span class="token punctuation">(</span>max-width 960px<span class="token punctuation">)</span>
        width 100%
      li
        list-style-type none
        float left
        padding-right 5px
        &amp;<span class="token punctuation">:</span>after
          content <span class="token string">'/'</span>
          margin-left 5px
          color #999
        &amp;<span class="token punctuation">:</span>last-child
          &amp;<span class="token punctuation">:</span>after
            content <span class="token string">''</span>
        a
          color #888
          &amp;<span class="token punctuation">:</span>before
            font-size 0.92rem
          &amp;<span class="token punctuation">:</span>hover
            color $accentColor
        .icon-home
          text-decoration none
    .info
      float right
      line-height 32px
      @media <span class="token punctuation">(</span>max-width 960px<span class="token punctuation">)</span>
        float left
      div
        float left
        margin-left 20px
        font-size 0.8rem
        @media <span class="token punctuation">(</span>max-width 960px<span class="token punctuation">)</span>
          margin 0 20px 0 0
        &amp;<span class="token punctuation">:</span>before
          margin-right 3px
        a
          color #888
          &amp;<span class="token punctuation">:</span>hover
            text-decoration none
        a.beLink
          &amp;<span class="token punctuation">:</span>hover
            color $accentColor
            text-decoration underline

 .view-data</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h4 id="_3-生成修改文件的补丁文件"><a href="#_3-生成修改文件的补丁文件" class="header-anchor">#</a> 3.生成修改文件的补丁文件：</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>npx patch-package <span class="token operator">&lt;</span>package-name<span class="token operator">&gt;</span>
<span class="token comment">#如</span>
npx patch-package vuepress-theme-vdoing
</code></pre></div><h4 id="_4-在-package-json-中添加-postinstall-脚本"><a href="#_4-在-package-json-中添加-postinstall-脚本" class="header-anchor">#</a> 4.在 <code>package.json</code> 中添加 <code>postinstall</code> 脚本：</h4> <ul><li><div class="language-js extra-class"><pre class="language-js"><code><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;postinstall&quot;</span><span class="token operator">:</span> <span class="token string">&quot;patch-package&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h4 id="_5-更新-github-actions-工作流"><a href="#_5-更新-github-actions-工作流" class="header-anchor">#</a> 5.更新 GitHub Actions 工作流</h4> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token comment"># ...</span>
<span class="token comment"># 安装依赖（仅在缓存未命中时执行）</span>
<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install dependencies
<span class="token key atrule">if</span><span class="token punctuation">:</span> steps.cache<span class="token punctuation">-</span>node<span class="token punctuation">-</span>modules.outputs.cache<span class="token punctuation">-</span>hit <span class="token tag">!=</span> 'true'
<span class="token key atrule">run</span><span class="token punctuation">:</span> npm install

<span class="token comment"># 应用补丁文件</span>
<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Apply patches with patch<span class="token punctuation">-</span>package
<span class="token key atrule">run</span><span class="token punctuation">:</span> npx patch<span class="token punctuation">-</span>package

<span class="token comment"># 构建 VuePress 项目</span>
<span class="token comment"># ...</span>
</code></pre></div><h4 id="_6-保留vuepress-theme-vdoing提交到git"><a href="#_6-保留vuepress-theme-vdoing提交到git" class="header-anchor">#</a> 6.保留vuepress-theme-vdoing提交到git</h4> <div class="language- extra-class"><pre class="language-text"><code>node_modules/
!node_modules/vuepress-theme-vdoing/
docs/.vuepress/dist/
.temp/
</code></pre></div><h3 id="新增访问量-选做-2"><a href="#新增访问量-选做-2" class="header-anchor">#</a> 新增访问量（选做）</h3> <p>做了后页面切换频繁时会数据显示异常，谨慎选择</p> <ul><li><p>每次看站点信息时，可以看到访问量增多，但是不知道到底增加了多少，所以我就修改了WebInfo和PageInfo中的代码，增加了显示新增访问量的功能，</p> <ul><li>显示方式：在访问量后面显示，与你上次访问时网站的访问量相比增加了多少（<code>访问量（+新增访问量）</code>），</li></ul></li> <li><p>主要是在原来统计的方法中新增了showCounterWithIncrement方法，并在<code>访问量</code>元素加载后，调用方法将<code>访问量（+新增访问量）</code>覆盖上去，过一段时间后再显示回<code>访问量</code></p> <ul><li><p>由于<strong>代码执行得比网站快</strong>，（代码获取<code>访问量</code>后，<code>访问量</code>对应的元素才加载出来），导致我们第一次直接获取访问量可能获取不到（你也可以将第一次尝试显示新增访问量的代码去掉</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> indexPv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.web-site-pv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> indexUv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.web-site-uv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>
      indexPv <span class="token operator">&amp;&amp;</span> 
      indexUv <span class="token operator">&amp;&amp;</span>
      indexPv<span class="token punctuation">.</span>innerText <span class="token operator">!==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span>
      indexUv<span class="token punctuation">.</span>innerText <span class="token operator">!==</span> <span class="token string">&quot;&quot;</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">showCounterWithIncrement</span><span class="token punctuation">(</span>indexPv<span class="token punctuation">,</span> indexUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token comment">//...</span>
<span class="token punctuation">}</span><span class="token comment">//记得后面的}也要去掉</span>
</code></pre></div><p>，只是会<strong>等待3秒后才加载新增的访问量</strong>，PageInfo.vue的代码同理），所以我用setTimeout等待了1秒（你也可以再调整小一点）才获取<code>访问量</code>。并把iterationTime从原来的3秒改为2秒，保证加起来与原来等待的时间不变</p></li></ul></li></ul> <h5 id="webinfo-vue-2"><a href="#webinfo-vue-2" class="header-anchor">#</a> WebInfo.vue</h5> <p>修改<code>WebInfo.vue</code>的getIndexViewCouter</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token comment">/**
         * 首页的统计量
         */</span>
        <span class="token function">getIndexViewCouter</span><span class="token punctuation">(</span><span class="token parameter">iterationTime <span class="token operator">=</span> <span class="token number">2000</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> defaultCouter <span class="token operator">=</span> <span class="token string">&quot;9999&quot;</span><span class="token punctuation">;</span>
            <span class="token comment">// 提取显示访问量和新增量的公共方法</span>
            <span class="token keyword">const</span> <span class="token function-variable function">showCounterWithIncrement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">pvElement<span class="token punctuation">,</span> uvElement</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// 读取 localStorage 中的上次访问量</span>
                <span class="token keyword">const</span> lastPv <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&quot;lastSitePv&quot;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token keyword">const</span> lastUv <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&quot;lastSiteUv&quot;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>

                <span class="token comment">// 当前访问量</span>
                <span class="token keyword">const</span> currentPv <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>pvElement<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token keyword">const</span> currentUv <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>uvElement<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>

                <span class="token comment">// 计算新增访问量</span>
                <span class="token keyword">const</span> newPv <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>currentPv <span class="token operator">-</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>lastPv<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">const</span> newUv <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>currentUv <span class="token operator">-</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>lastUv<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// console.log(&quot;testtest&quot;,lastPv,currentPv,</span>
                <span class="token comment">//     newPv, newUv</span>
                <span class="token comment">// );</span>

                <span class="token keyword">if</span><span class="token punctuation">(</span>newPv <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token comment">// 显示新增的访问量</span>
                    pvElement<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>currentPv<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">（+</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newPv<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">）</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
                    <span class="token comment">// 保存当前访问量到 localStorage</span>
                    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&quot;lastSitePv&quot;</span><span class="token punctuation">,</span> currentPv<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>newUv <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token comment">// 显示新增的访问量</span>
                    uvElement<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>currentUv<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">（+</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newUv<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">）</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
                    <span class="token comment">// 保存当前访问量到 localStorage</span>
                    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&quot;lastSiteUv&quot;</span><span class="token punctuation">,</span> currentUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token comment">// 设置定时器隐藏新增访问量</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    pvElement<span class="token punctuation">.</span>innerText <span class="token operator">=</span> currentPv<span class="token punctuation">;</span> <span class="token comment">// 仅显示总访问量</span>
                    uvElement<span class="token punctuation">.</span>innerText <span class="token operator">=</span> currentUv<span class="token punctuation">;</span> <span class="token comment">// 仅显示总访问量</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5秒后隐藏新增访问量</span>
        		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$once</span><span class="token punctuation">(</span><span class="token string">'hook:beforeDestroy'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 确保销毁时清理</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> indexPv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.web-site-pv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> indexUv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.web-site-uv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>
                indexPv <span class="token operator">&amp;&amp;</span> 
                indexUv <span class="token operator">&amp;&amp;</span>
                indexPv<span class="token punctuation">.</span>innerText <span class="token operator">!==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span>
                indexUv<span class="token punctuation">.</span>innerText <span class="token operator">!==</span> <span class="token string">&quot;&quot;</span>
                <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">showCounterWithIncrement</span><span class="token punctuation">(</span>indexPv<span class="token punctuation">,</span> indexUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token comment">// 如果只需要第一次获取数据（可能获取失败），可注释掉 setTimeout 内容，此内容是第一次获取失败后，重新获取访问量</span>
                <span class="token comment">// 可能会导致访问量再次 + 1 原因：取决于 setTimeout 的时间（需求调节），setTimeout 太快导致第一个获取的数据没返回，就第二次获取，导致结果返回 + 2 的数据</span>
                <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">let</span> indexPv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.web-site-pv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">let</span> indexUv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.web-site-uv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>
                        indexPv <span class="token operator">&amp;&amp;</span> 
                        indexUv <span class="token operator">&amp;&amp;</span>
                        indexPv<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span>
                        indexUv<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span>
                    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">let</span> interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                            <span class="token comment">// 再次判断原因：防止进入 setInterval 的瞬间，访问量获取成功</span>
                            <span class="token keyword">if</span> <span class="token punctuation">(</span>
                                indexPv <span class="token operator">&amp;&amp;</span> 
                                indexUv <span class="token operator">&amp;&amp;</span>
                                indexPv<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span>
                                indexUv<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span>
                            <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                i <span class="token operator">+=</span> iterationTime<span class="token punctuation">;</span>
                                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> iterationTime <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    indexPv<span class="token punctuation">.</span>innerText <span class="token operator">=</span> defaultCouter<span class="token punctuation">;</span>
                                    indexUv<span class="token punctuation">.</span>innerText <span class="token operator">=</span> defaultCouter<span class="token punctuation">;</span>
                                    <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5 次后无法获取，则取消获取</span>
                                <span class="token punctuation">}</span>
                                <span class="token keyword">if</span> <span class="token punctuation">(</span>indexPv<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> indexUv<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token comment">// 手动获取访问量</span>
                                    <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                                    <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token function">showCounterWithIncrement</span><span class="token punctuation">(</span>indexPv<span class="token punctuation">,</span> indexUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                                <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token function">showCounterWithIncrement</span><span class="token punctuation">(</span>indexPv<span class="token punctuation">,</span> indexUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span> iterationTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment">// 绑定 beforeDestroy 生命钩子，清除定时器</span>
                        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$once</span><span class="token punctuation">(</span><span class="token string">&quot;hook:beforeDestroy&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                            <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            interval <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>indexPv <span class="token operator">&amp;&amp;</span> indexUv<span class="token punctuation">)</span><span class="token punctuation">{</span>
                        <span class="token function">showCounterWithIncrement</span><span class="token punctuation">(</span>indexPv<span class="token punctuation">,</span> indexUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span> iterationTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h5 id="articleinfo-vue"><a href="#articleinfo-vue" class="header-anchor">#</a> ArticleInfo.vue</h5> <p>修改<code>ArticleInfo.vue</code>中的getPageViewCouter（TODO，有点小bug，如果你频繁切换页面会导致不同页面的访问量互相影响，因为用到setTimeOut延时任务，切换页面时应该取消掉该任务，用beforeDestroy取消不掉，如果你能解决的话）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
     * 文章页的访问量
     */</span>
    <span class="token function">getPageViewCouter</span><span class="token punctuation">(</span><span class="token parameter">iterationTime <span class="token operator">=</span> <span class="token number">2000</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> defaultCouter <span class="token operator">=</span> <span class="token string">&quot;9999&quot;</span><span class="token punctuation">;</span>
      <span class="token comment">// 提取显示访问量和新增量的公共方法</span>
      <span class="token keyword">const</span> <span class="token function-variable function">showPageViewWithIncrement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> visitorsElement</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取当前文章的唯一标识符</span>
        <span class="token keyword">const</span> articleKey <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$frontmatter<span class="token punctuation">.</span>permalink <span class="token operator">||</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname<span class="token punctuation">;</span>
        <span class="token comment">// 读取上次访问量</span>
        <span class="token keyword">const</span> lastPageView <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">lastPagePv_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>articleKey<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> lastPageVisitors <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">lastPageUv_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>articleKey<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">// 当前访问量</span>
        <span class="token keyword">const</span> currentPageView <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> currentVisitors <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>visitorsElement<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token comment">// 计算新增访问量（确保不为负数）</span>
        <span class="token keyword">const</span> newPageView <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>currentPageView <span class="token operator">-</span> lastPageView<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> newPageVisitors <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>currentVisitors <span class="token operator">-</span> lastPageVisitors<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>newPageView <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token comment">// 显示新增访问量</span>
          element<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>currentPageView<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">（+</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newPageView<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">）</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token comment">// 保存当前访问量</span>
          localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">lastPagePv_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>articleKey<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> currentPageView<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>newPageVisitors <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token comment">// 显示新增访问量</span>
          visitorsElement<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>currentVisitors<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">（+</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newPageVisitors<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">）</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token comment">// 保存当前访问量</span>
          localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">lastPageUv_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>articleKey<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> currentVisitors<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// 设置定时器隐藏新增访问量</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          element<span class="token punctuation">.</span>innerText <span class="token operator">=</span> currentPageView<span class="token punctuation">;</span> <span class="token comment">// 仅显示总访问量</span>
          visitorsElement<span class="token punctuation">.</span>innerText <span class="token operator">=</span> currentVisitors<span class="token punctuation">;</span> <span class="token comment">// 仅显示总访问量</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5秒后隐藏新增访问量</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$once</span><span class="token punctuation">(</span><span class="token string">'hook:beforeDestroy'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 确保销毁时清理</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> pageView <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.view-data&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">let</span> visitors <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.visitors-data&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView <span class="token operator">&amp;&amp;</span> pageView<span class="token punctuation">.</span>innerText <span class="token operator">!==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> visitors <span class="token operator">&amp;&amp;</span> visitors<span class="token punctuation">.</span>innerText <span class="token operator">!==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">showPageViewWithIncrement</span><span class="token punctuation">(</span>pageView<span class="token punctuation">,</span> visitors<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 如果只需要第一次获取数据（可能获取失败），可注释掉 setTimeout 内容，此内容是第一次获取失败后，重新获取访问量</span>
        <span class="token comment">// 可能会导致访问量再次 + 1 原因：取决于 setTimeout 的时间（需求调节），setTimeout 太快导致第一个获取的数据没返回，就第二次获取，导致结果返回 + 2 的数据</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> pageView <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.view-data&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">let</span> visitors <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.visitors-data&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView <span class="token operator">&amp;&amp;</span> pageView<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> visitors <span class="token operator">&amp;&amp;</span> visitors<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token comment">// 再次判断原因：防止进入 setInterval 的瞬间，访问量获取成功</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView <span class="token operator">&amp;&amp;</span> pageView<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> visitors <span class="token operator">&amp;&amp;</span> visitors<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                i <span class="token operator">+=</span> iterationTime<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> iterationTime <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  pageView<span class="token punctuation">.</span>innerText <span class="token operator">=</span> defaultCouter<span class="token punctuation">;</span>
                  visitors<span class="token punctuation">.</span>innerText <span class="token operator">=</span> defaultCouter<span class="token punctuation">;</span> 
                  <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5 次后无法获取，则取消获取</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>pageView<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token comment">// 手动获取访问量</span>
                  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                  <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token function">showPageViewWithIncrement</span><span class="token punctuation">(</span>pageView<span class="token punctuation">,</span> visitors<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">showPageViewWithIncrement</span><span class="token punctuation">(</span>pageView<span class="token punctuation">,</span> visitors<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> iterationTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 绑定 beforeDestroy 生命钩子，清除定时器</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$once</span><span class="token punctuation">(</span><span class="token string">&quot;hook:beforeDestroy&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
              interval <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>pageView<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">showPageViewWithIncrement</span><span class="token punctuation">(</span>pageView<span class="token punctuation">,</span> visitors<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> iterationTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1500</span><span class="token punctuation">)</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>！！注意，每次修改 vuepress-theme-vdoing 中的文件，需要重新生成补丁<code>npx patch-package vuepress-theme-vdoing</code>，不然部署到GitHu pages是不会更新的┭┮﹏┭┮</p> <p>部署时可能出现<code>patch-package: not found</code>，需要在本地重新执行安装  <code>patch-package</code>操作</p> <h2 id="_1"><a href="#_1" class="header-anchor">#</a> 1</h2></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2025/5/2 14:40:28</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/Blog/Comment/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">评论区</div></a> <a href="/Blog/Moremore/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">MoreMore</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/Blog/Comment/" class="prev">评论区</a></span> <span class="next"><a href="/Blog/Moremore/">MoreMore</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/944352/"><div>
            检测
            <!----></div></a> <span class="date">05-02</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/76805e/"><div>
            +
            <!----></div></a> <span class="date">05-02</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/e434d6/"><div>
            苍穹外卖
            <!----></div></a> <span class="date">05-02</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2025-2025
    <span>Cyan Blog</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><!----><canvas id="vuepress-canvas-cursor"></canvas><div></div><div id="tcomment"></div><PageInfo></PageInfo></div></div>
    <script src="/assets/js/app.c321cd63.js" defer></script><script src="/assets/js/3.b106b38f.js" defer></script><script src="/assets/js/2.74e1a6dc.js" defer></script><script src="/assets/js/171.cc4f4d9e.js" defer></script><script src="/assets/js/21.2be56b3a.js" defer></script>
  </body>
</html>
